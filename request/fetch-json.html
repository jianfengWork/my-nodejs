<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title>fetch</title>
    <script>
      window.onload = function() {
        const oBtn = document.getElementById('btn');
        oBtn.onclick = async function() {
          // 1请求
          const res = await fetch('fetch/fetch-json.json');
          // const res = await fetch('http://localhost:3030/index');
          // 2解析
          const json = await res.json();

          console.log(json);

          fetch('fetch/fetch-json.json').then(res => {
            return res.json() // Promise
          }).then(data => {
            document.querySelector('#content').innerHTML = `<span>${data.username}</span>:<span>${data.password}</span>`
          })
        };
      };

      async function fn_submit() {
        const formdata = new FormData()
        formdata.append('a', 1)
        formdata.append('b', 2)

        const res = await fetch(url, {
          method: 'post',
          body: formdata, // 传送的数据
        })
        const result = await res.json()
        console.log(result)
      }
    </script>
  </head>
  <body>
    <input type="button" value="读取 json" id="btn" />
    <div id="content"></div>
  </body>
</html>
